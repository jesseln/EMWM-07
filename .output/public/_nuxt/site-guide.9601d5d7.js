import{u as x,b as A,a as P,_ as G,c as K,d as Q}from"./MarkItem.9f1c29ac.js";import{s as b,r as R,y as W,z as X,o,k as l,w as D,a as e,c as i,F as v,i as y,h as t,b as L,t as p,A as E,j as _,l as c,B as ee}from"./entry.de7ae5fc.js";import{u as T}from"./libraryStore.8c5c4be6.js";import"./useSupabaseClient.97dbf750.js";const te={class:"shelf-button-wrapper"},se={class:"shelf-button"},oe=e("p",null,">",-1),ie={class:"item-menu"},ne=e("div",{class:"item-menu-header-container"},[e("h2",{class:"item-menu-header"},"Item Type"),e("h2",{class:"item-menu-subheader"})],-1),le={class:"item-menu"},ce={class:"shelf-button-wrapper"},re={class:"shelf-button"},ae={class:"item-menu"},he={class:"shelf-button-wrapper"},ue=["onClick"],de={class:"shelf-button close-button"},_e={xmlns:"http://www.w3.org/2000/svg",width:12*1.1,height:13*1.1,viewBox:"0 0 12 13",fill:"none"},ve=e("path",{class:"shelf-button close-button",d:"M8.31429 9.44434L6 7.13005L3.68571 9.44434L3 8.75862L5.31429 6.44434L3 4.13005L3.68571 3.44434L6 5.75862L8.31429 3.44434L9 4.13005L6.68571 6.44434L9 8.75862L8.31429 9.44434Z"},null,-1),pe=[ve],we={class:"shelf-button close-button"},me={xmlns:"http://www.w3.org/2000/svg",width:12*1.1,height:13*1.1,viewBox:"0 0 12 13",fill:"none"},fe=e("path",{class:"shelf-button close-button",d:"M8.31429 9.44434L6 7.13005L3.68571 9.44434L3 8.75862L5.31429 6.44434L3 4.13005L3.68571 3.44434L6 5.75862L8.31429 3.44434L9 4.13005L6.68571 6.44434L9 8.75862L8.31429 9.44434Z"},null,-1),ye=[fe],be={__name:"ViewSelector",props:["viewMode","selectionList"],setup(u){const g=x(),{libraryData:I,libraryDisplay:k,formattedLibrary:H,itemHeight:Y,itemColour:Z,viewHeightBounds:j,viewColourSet:w}=b(g),{parseDatabase:N,handleViewSelection:F,getIDP:q,handleColour:J}=x(),n=A();b(n),A();const O=P(),{categoryMap:M,invCategoryMap:B,colourMapFiltered:U,scales:z}=b(O);return R(!1),(h,r)=>{const m=W("VDropdown"),f=X("close-popper");return o(),l(m,{placement:"bottom",delay:{show:50,hide:200}},{popper:D(()=>[e("div",null,[e("div",ie,[ne,e("ul",null,[(o(!0),i(v,null,y(t(M).keys(),d=>(o(),i("li",null,[L(m,{placement:"right",delay:{show:50,hide:200}},{popper:D(()=>[e("ul",null,[(o(!0),i(v,null,y(u.selectionList.get(d),a=>(o(),i("li",null,[e("div",ae,[e("div",he,[e("button",{class:"shelf-button",onClick:S=>t(F)(u.viewMode,t(B).get(d)[a],d)},[e("h4",null,p(a),1)],8,ue)])])]))),256))]),E((o(),i("button",de,[(o(),i("svg",_e,pe))])),[[f]])]),default:D(()=>[e("div",le,[e("div",ce,[e("button",re,[e("h4",null,p(d),1)])])])]),_:2},1024)]))),256))])]),E((o(),i("button",we,[(o(),i("svg",me,ye))])),[[f]])])]),default:D(()=>[e("div",te,[e("button",se,[e("p",null,p(t(k).viewType[u.viewMode]),1),oe,e("p",null,p(t(M).get(t(k).viewType[u.viewMode])[t(k).view[u.viewMode]]),1)])])]),_:1})}}},ge=be,ke=ee('<div class="yourShelf-title-box"><h2 class="library-type-title">Design Your Library View</h2><p class="yourShelf-description">Select the options below to alter your view of the library.</p></div><div class="yourShelf-title-box"><h2 class="view-facet-title">Select Library Items to View</h2><p class="view-facet-description">View the library by Agents, Books or Marks by clicking below.</p></div>',2),Be={class:"library-display-button-wrapper"},Se={class:"library-button-wrapper"},Le={class:"library-button-wrapper"},xe={class:"library-button-wrapper"},Me={class:"view-top-section-wrapper"},$e={class:"view-wrapper"},Ce={class:"view-facet-title-box"},Ve=e("h2",{class:"view-facet-title"},"Item Height",-1),De=e("p",{class:"view-facet-description"},"Select the category which changes the height of each item.",-1),Ae={class:"view-shelf-inner"},Ie={class:"view-section-wrapper"},He=e("h3",{class:"view-section-category"},"Lowest Value ",-1),Ne={class:"view-section-value"},Fe=e("div",{class:"section-shelf-box"},null,-1),Je=e("h3",{class:"view-section-category"},"Highest Value ",-1),Oe={class:"view-section-value"},ze=e("div",{class:"section-shelf-box"},null,-1),Ee={class:"view-wrapper"},Pe={class:"view-facet-title-box"},Re=e("h2",{class:"view-facet-title"},"Item Shelves",-1),Te=e("p",{class:"view-facet-description"},"Select the category which divides the items into different shelves.",-1),Ye={class:"shelf-inner"},Ze={class:"view-section-wrapper"},je={class:"view-wrapper"},qe={class:"view-facet-title-box"},Ue=e("h2",{class:"view-facet-title"},"Item Arrangement",-1),Ge=e("p",{class:"view-facet-description"},"Select the category which orders the items on the shelf.",-1),Ke={class:"shelf-inner"},Qe={class:"view-section-wrapper"},We={class:"view-wrapper"},Xe={class:"view-facet-title-box"},et=e("h2",{class:"view-facet-title"},"Item Colour",-1),tt=e("p",{class:"view-facet-description"},"Select the category which sets the colours for each item.",-1),st={class:"shelf-inner"},ot={class:"view-section-wrapper"},it=e("h3",{class:"yourShelf-section-category"},"Unique Categories",-1),nt={class:"yourShelf-section-value"},lt=e("div",{class:"section-shelf-box"},null,-1),ct={__name:"ViewDesigner",setup(u){const g=T(),I=x(),{libraryData:k,libraryDisplay:H,formattedLibrary:Y,itemHeight:Z,itemColour:j,viewHeightBounds:w,viewColourSet:N}=b(I),{parseDatabase:F,handleViewSelection:q,getIDP:J,itemTypeCheck:n}=x(),O=A();b(O),A();const M=P(),{categoryMap:B,invCategoryMap:U,colourMapFiltered:z,scales:h,viewEditItemBundle:r,viewColourItemBundle:m}=b(M);R(!1);function f(d){F(g[d])}return(d,a)=>{const S=ge,$=G,C=K,V=Q;return o(),i(v,null,[ke,e("div",Be,[e("div",Se,[e("button",{class:"shelf-button library-button",onClick:a[0]||(a[0]=s=>f("Agent"))},"Agents")]),e("div",Le,[e("button",{class:"shelf-button library-button",onClick:a[1]||(a[1]=s=>f("Book"))},"Books")]),e("div",xe,[e("button",{class:"shelf-button library-button",onClick:a[2]||(a[2]=s=>f("Mark"))},"Marks")])]),e("div",Me,[e("div",$e,[e("div",Ce,[Ve,De,L(S,{viewMode:"height",selectionList:t(B)},null,8,["selectionList"])]),e("div",Ae,[e("div",Ie,[e("div",{class:"section-title-box",style:_({height:t(h).maxShelfHeight+"px"})},[He,e("h3",Ne,p(`"${t(J)(t(w)[0],"height")}"`),1),Fe],4),(o(!0),i(v,null,y(t(w),s=>(o(),i("div",{class:"section-inner",key:JSON.stringify(s),style:_({height:t(h).maxShelfHeight+"px"})},[t(n)(s)==="Agent"?(o(),l($,{key:0,item:s,itemBundle:t(r).Agent},null,8,["item","itemBundle"])):c("",!0),t(n)(s)==="Book"?(o(),l(C,{key:1,item:s,itemBundle:t(r).Book},null,8,["item","itemBundle"])):c("",!0),t(n)(s)==="Mark"?(o(),l(V,{key:2,item:s,itemBundle:t(r).Mark},null,8,["item","itemBundle"])):c("",!0)],4))),128)),e("div",{class:"view-section-title-box-rhs",style:_({height:t(h).maxShelfHeight+"px"})},[Je,e("h3",Oe,p(`"${t(J)(t(w)[1],"height")}"`),1),ze],4)])])]),e("div",Ee,[e("div",Pe,[Re,Te,L(S,{viewMode:"shelf",selectionList:t(B)},null,8,["selectionList"])]),e("div",Ye,[e("div",Ze,[(o(!0),i(v,null,y(t(w),s=>(o(),i("div",{class:"section-inner",key:JSON.stringify(s),style:_({height:t(h).maxShelfHeight+"px"})},[t(n)(s)==="Agent"?(o(),l($,{key:0,item:s,itemBundle:t(r).Agent},null,8,["item","itemBundle"])):c("",!0),t(n)(s)==="Book"?(o(),l(C,{key:1,item:s,itemBundle:t(r).Book},null,8,["item","itemBundle"])):c("",!0),t(n)(s)==="Mark"?(o(),l(V,{key:2,item:s,itemBundle:t(r).Mark},null,8,["item","itemBundle"])):c("",!0)],4))),128))])])]),e("div",je,[e("div",qe,[Ue,Ge,L(S,{viewMode:"bookend",selectionList:t(B)},null,8,["selectionList"])]),e("div",Ke,[e("div",Qe,[(o(!0),i(v,null,y(t(w),s=>(o(),i("div",{class:"section-inner",key:JSON.stringify(s),style:_({height:t(h).maxShelfHeight+"px"})},[t(n)(s)==="Agent"?(o(),l($,{key:0,item:s,itemBundle:t(r).Agent},null,8,["item","itemBundle"])):c("",!0),t(n)(s)==="Book"?(o(),l(C,{key:1,item:s,itemBundle:t(r).Book},null,8,["item","itemBundle"])):c("",!0),t(n)(s)==="Mark"?(o(),l(V,{key:2,item:s,itemBundle:t(r).Mark},null,8,["item","itemBundle"])):c("",!0)],4))),128))])])])]),e("div",We,[e("div",Xe,[et,tt,L(S,{viewMode:"colour",selectionList:t(z)},null,8,["selectionList"])]),e("div",st,[e("div",ot,[e("div",{class:"section-title-box",style:_({height:t(h).maxShelfHeight+"px"})},[it,e("h3",nt,p(t(N).size),1),lt],4),(o(!0),i(v,null,y(t(N),s=>(o(),i("div",{class:"section-inner",key:JSON.stringify(s),style:_({height:t(h).maxShelfHeight+"px"})},[t(n)(s)==="Agent"?(o(),l($,{key:0,item:s,itemBundle:t(m).Agent},null,8,["item","itemBundle"])):c("",!0),t(n)(s)==="Book"?(o(),l(C,{key:1,item:s,itemBundle:t(m).Book},null,8,["item","itemBundle"])):c("",!0),t(n)(s)==="Mark"?(o(),l(V,{key:2,item:s,itemBundle:t(m).Mark},null,8,["item","itemBundle"])):c("",!0)],4))),128))])])])],64)}}},rt=ct,_t={__name:"site-guide",setup(u){T();const g=x();return(I,k)=>{const H=rt;return o(),i("div",null,[t(g).formattedLibrary.length?(o(),l(H,{key:0})):c("",!0)])}}};export{_t as default};
